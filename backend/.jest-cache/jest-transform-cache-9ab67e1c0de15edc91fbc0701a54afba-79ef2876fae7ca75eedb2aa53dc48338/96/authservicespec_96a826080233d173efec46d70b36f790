a2545b3c0214426a8a2693c2eedceee7
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
jest.mock('bcrypt', () => ({
    hash: jest.fn(async () => 'hashed'),
    compare: jest.fn(async () => true),
}));
const common_1 = require("@nestjs/common");
const bcrypt = require("bcrypt");
const role_enum_1 = require("../common/enums/role.enum");
const auth_service_1 = require("./auth.service");
describe('AuthService', () => {
    let service;
    let usersService;
    let jwtService;
    let prisma;
    let config;
    beforeEach(() => {
        usersService = {
            findByEmail: jest.fn(),
            create: jest.fn(),
            findById: jest.fn(),
            findOrThrow: jest.fn(),
        };
        jwtService = {
            signAsync: jest.fn(),
            verifyAsync: jest.fn(),
            decode: jest.fn(),
        };
        prisma = {
            refreshToken: {
                findMany: jest.fn(),
                update: jest.fn(),
                updateMany: jest.fn(),
                create: jest.fn(),
            },
        };
        config = {
            get: jest.fn((key, def) => def),
        };
        service = new auth_service_1.AuthService(usersService, jwtService, prisma, config);
    });
    describe('register', () => {
        it('throws when email already exists', async () => {
            usersService.findByEmail.mockResolvedValue({ id: 'u-1' });
            await expect(service.register({
                email: 'a@b.com',
                password: 'pass1234',
                name: 'A',
                role: role_enum_1.Role.ADMIN,
            })).rejects.toBeInstanceOf(common_1.BadRequestException);
        });
        it('throws when WARUNG role missing warungId', async () => {
            usersService.findByEmail.mockResolvedValue(null);
            await expect(service.register({
                email: 'w@b.com',
                password: 'pass1234',
                name: 'W',
                role: role_enum_1.Role.WARUNG,
            })).rejects.toBeInstanceOf(common_1.BadRequestException);
        });
        it('hashes password and creates user on success', async () => {
            usersService.findByEmail.mockResolvedValue(null);
            usersService.create.mockResolvedValue({
                id: 'u-1',
                email: 'a@b.com',
                name: 'A',
                role: role_enum_1.Role.ADMIN,
                warungId: null,
                createdAt: new Date(),
                updatedAt: new Date(),
            });
            const result = await service.register({
                email: 'a@b.com',
                password: 'pass1234',
                name: 'A',
                role: role_enum_1.Role.ADMIN,
            });
            expect(bcrypt.hash).toHaveBeenCalled();
            expect(usersService.create).toHaveBeenCalled();
            expect(result).toHaveProperty('id', 'u-1');
            expect(result.password).toBeUndefined();
        });
    });
    describe('login', () => {
        it('throws when user not found', async () => {
            usersService.findByEmail.mockResolvedValue(null);
            await expect(service.login({ email: 'x@x.com', password: 'x' })).rejects.toBeInstanceOf(common_1.UnauthorizedException);
        });
        it('throws when password invalid', async () => {
            bcrypt.compare.mockResolvedValue(false);
            usersService.findByEmail.mockResolvedValue({
                id: 'u-1',
                email: 'x@x.com',
                password: 'hash',
                role: role_enum_1.Role.ADMIN,
            });
            await expect(service.login({ email: 'x@x.com', password: 'wrong' })).rejects.toBeInstanceOf(common_1.UnauthorizedException);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL21hY200L0RvY3VtZW50cy9Qcm9qZWsvQlVNQVNhbnNvci9iYWNrZW5kL3NyYy9hdXRoL2F1dGguc2VydmljZS5zcGVjLnRzIiwibWFwcGluZ3MiOiI7O0FBS0EsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUN6QixJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDLFFBQVEsQ0FBQztJQUNuQyxPQUFPLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQztDQUNuQyxDQUFDLENBQUMsQ0FBQztBQVJKLDJDQUE0RTtBQUM1RSxpQ0FBaUM7QUFDakMseURBQWlEO0FBQ2pELGlEQUE2QztBQU83QyxRQUFRLENBQUMsYUFBYSxFQUFFLEdBQUcsRUFBRTtJQUMzQixJQUFJLE9BQW9CLENBQUM7SUFDekIsSUFBSSxZQUFpQixDQUFDO0lBQ3RCLElBQUksVUFBZSxDQUFDO0lBQ3BCLElBQUksTUFBVyxDQUFDO0lBQ2hCLElBQUksTUFBVyxDQUFDO0lBRWhCLFVBQVUsQ0FBQyxHQUFHLEVBQUU7UUFDZCxZQUFZLEdBQUc7WUFDYixXQUFXLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUN0QixNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUNqQixRQUFRLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtZQUNuQixXQUFXLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRTtTQUN2QixDQUFDO1FBRUYsVUFBVSxHQUFHO1lBQ1gsU0FBUyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDcEIsV0FBVyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7WUFDdEIsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUU7U0FDWCxDQUFDO1FBRVQsTUFBTSxHQUFHO1lBQ1AsWUFBWSxFQUFFO2dCQUNaLFFBQVEsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFO2dC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QUFHLEVBQUU7UUFDckIsRUFBRSxDQUFDLDRCQUE0QixFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzFDLFlBQVksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUM7WUFFakQsTUFBTSxNQUFNLENBQ1YsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBUyxDQUFDLENBQzFELENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyw4QkFBcUIsQ0FBQyxDQUFDO1FBQ2xELENBQUMsQ0FBQyxDQUFDO1FBRUgsRUFBRSxDQUFDLDhCQUE4QixFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzNDLE1BQU0sQ0FBQyxPQUE0QixDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzlELFlBQVksQ0FBQyxXQUFXLENBQUMsaUJBQWlCLENBQUM7Z0JBQ3pDLEVBQUUsRUFBRSxLQUFLO2dCQUNULEtBQUssRUFBRSxTQUFTO2dCQUNoQixRQUFRLEVBQUUsTUFBTTtnQkFDaEIsSUFBSSxFQUFFLGdCQUFJLENBQUMsS0FBSzthQUNqQixDQUFDLENBQUM7WUFFSCxNQUFNLE1BQU0sQ0FDVixPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFTLENBQUMsQ0FDOUQsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLDhCQUFxQixDQUFDLENBQUM7UUFDbEQsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWNtNC9Eb2N1bWVudHMvUHJvamVrL0JVTUFTYW5zb3IvYmFja2VuZC9zcmMvYXV0aC9hdXRoLnNlcnZpY2Uuc3BlYy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCYWRSZXF1ZXN0RXhjZXB0aW9uLCBVbmF1dGhvcml6ZWRFeGNlcHRpb24gfSBmcm9tICdAbmVzdGpzL2NvbW1vbic7XG5pbXBvcnQgKiBhcyBiY3J5cHQgZnJvbSAnYmNyeXB0JztcbmltcG9ydCB7IFJvbGUgfSBmcm9tICcuLi9jb21tb24vZW51bXMvcm9sZS5lbnVtJztcbmltcG9ydCB7IEF1dGhTZXJ2aWNlIH0gZnJvbSAnLi9hdXRoLnNlcnZpY2UnO1xuXG5qZXN0Lm1vY2soJ2JjcnlwdCcsICgpID0+ICh7XG4gIGhhc2g6IGplc3QuZm4oYXN5bmMgKCkgPT4gJ2hhc2hlZCcpLFxuICBjb21wYXJlOiBqZXN0LmZuKGFzeW5jICgpID0+IHRydWUpLFxufSkpO1xuXG5kZXNjcmliZSgnQXV0aFNlcnZpY2UnLCAoKSA9PiB7XG4gIGxldCBzZXJ2aWNlOiBBdXRoU2VydmljZTtcbiAgbGV0IHVzZXJzU2VydmljZTogYW55O1xuICBsZXQgand0U2VydmljZTogYW55O1xuICBsZXQgcHJpc21hOiBhbnk7XG4gIGxldCBjb25maWc6IGFueTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICB1c2Vyc1NlcnZpY2UgPSB7XG4gICAgICBmaW5kQnlFbWFpbDogamVzdC5mbigpLFxuICAgICAgY3JlYXRlOiBqZXN0LmZuKCksXG4gICAgICBmaW5kQnlJZDogamVzdC5mbigpLFxuICAgICAgZmluZE9yVGhyb3c6IGplc3QuZm4oKSxcbiAgICB9O1xuXG4gICAgand0U2VydmljZSA9IHtcbiAgICAgIHNpZ25Bc3luYzogamVzdC5mbigpLFxuICAgICAgdmVyaWZ5QXN5bmM6IGplc3QuZm4oKSxcbiAgICAgIGRlY29kZTogamVzdC5mbigpLFxuICAgIH0gYXMgYW55O1xuXG4gICAgcHJpc21hID0ge1xuICAgICAgcmVmcmVzaFRva2VuOiB7XG4gICAgICAgIGZpbmRNYW55OiBqZXN0LmZuKCksXG4gICAgICAgIHVwZGF0ZTogamVzdC5mbigpLFxuICAgICAgICB1cGRhdGVNYW55OiBqZXN0LmZuKCksXG4gICAgICAgIGNyZWF0ZTogamVzdC5mbigpLFxuICAgICAgfSxcbiAgICB9O1xuXG4gICAgY29uZmlnID0ge1xuICAgICAgZ2V0OiBqZXN0LmZuKChrZXk6IHN0cmluZywgZGVmOiBhbnkpID0+IGRlZiksXG4gICAgfSBhcyBhbnk7XG5cbiAgICBzZXJ2aWNlID0gbmV3IEF1dGhTZXJ2aWNlKHVzZXJzU2VydmljZSwgand0U2VydmljZSwgcHJpc21hLCBjb25maWcpO1xuICB9KTtcblxuICBkZXNjcmliZSgncmVnaXN0ZXInLCAoKSA9PiB7XG4gICAgaXQoJ3Rocm93cyB3aGVuIGVtYWlsIGFscmVhZHkgZXhpc3RzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgdXNlcnNTZXJ2aWNlLmZpbmRCeUVtYWlsLm1vY2tSZXNvbHZlZFZhbHVlKHsgaWQ6ICd1LTEnIH0pO1xuXG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIHNlcnZpY2UucmVnaXN0ZXIoe1xuICAgICAgICAgIGVtYWlsOiAnYUBiLmNvbScsXG4gICAgICAgICAgcGFzc3dvcmQ6ICdwYXNzMTIzNCcsXG4gICAgICAgICAgbmFtZTogJ0EnLFxuICAgICAgICAgIHJvbGU6IFJvbGUuQURNSU4sXG4gICAgICAgIH0gYXMgYW55KSxcbiAgICAgICkucmVqZWN0cy50b0JlSW5zdGFuY2VPZihCYWRSZXF1ZXN0RXhjZXB0aW9uKTtcbiAgICB9KTtcblxuICAgIGl0KCd0aHJvd3Mgd2hlbiBXQVJVTkcgcm9sZSBtaXNzaW5nIHdhcnVuZ0lkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgdXNlcnNTZXJ2aWNlLmZpbmRCeUVtYWlsLm1vY2tSZXNvbHZlZFZhbHVlKG51bGwpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIHNlcnZpY2UucmVnaXN0ZXIoe1xuICAgICAgICAgIGVtYWlsOiAnd0BiLmNvbScsXG4gICAgICAgICAgcGFzc3dvcmQ6ICdwYXNzMTIzNCcsXG4gICAgICAgICAgbmFtZTogJ1cnLFxuICAgICAgICAgIHJvbGU6IFJvbGUuV0FSVU5HLFxuICAgICAgICB9IGFzIGFueSksXG4gICAgICApLnJlamVjdHMudG9CZUluc3RhbmNlT2YoQmFkUmVxdWVzdEV4Y2VwdGlvbik7XG4gICAgfSk7XG5cbiAgICBpdCgnaGFzaGVzIHBhc3N3b3JkIGFuZCBjcmVhdGVzIHVzZXIgb24gc3VjY2VzcycsIGFzeW5jICgpID0+IHtcbiAgICAgIHVzZXJzU2VydmljZS5maW5kQnlFbWFpbC5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKTtcbiAgICAgIHVzZXJzU2VydmljZS5jcmVhdGUubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBpZDogJ3UtMScsXG4gICAgICAgIGVtYWlsOiAnYUBiLmNvbScsXG4gICAgICAgIG5hbWU6ICdBJyxcbiAgICAgICAgcm9sZTogUm9sZS5BRE1JTixcbiAgICAgICAgd2FydW5nSWQ6IG51bGwsXG4gICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZpY2UucmVnaXN0ZXIoe1xuICAgICAgICBlbWFpbDogJ2FAYi5jb20nLFxuICAgICAgICBwYXNzd29yZDogJ3Bhc3MxMjM0JyxcbiAgICAgICAgbmFtZTogJ0EnLFxuICAgICAgICByb2xlOiBSb2xlLkFETUlOLFxuICAgICAgfSBhcyBhbnkpO1xuXG4gICAgICBleHBlY3QoYmNyeXB0Lmhhc2ggYXMgYW55IGFzIGplc3QuTW9jaykudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KHVzZXJzU2VydmljZS5jcmVhdGUpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvSGF2ZVByb3BlcnR5KCdpZCcsICd1LTEnKTtcbiAgICAgIGV4cGVjdCgocmVzdWx0IGFzIGFueSkucGFzc3dvcmQpLnRvQmVVbmRlZmluZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2xvZ2luJywgKCkgPT4ge1xuICAgIGl0KCd0aHJvd3Mgd2hlbiB1c2VyIG5vdCBmb3VuZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIHVzZXJzU2VydmljZS5maW5kQnlFbWFpbC5tb2NrUmVzb2x2ZWRWYWx1ZShudWxsKTtcblxuICAgICAgYXdhaXQgZXhwZWN0KFxuICAgICAgICBzZXJ2aWNlLmxvZ2luKHsgZW1haWw6ICd4QHguY29tJywgcGFzc3dvcmQ6ICd4JyB9IGFzIGFueSksXG4gICAgICApLnJlamVjdHMudG9CZUluc3RhbmNlT2YoVW5hdXRob3JpemVkRXhjZXB0aW9uKTtcbiAgICB9KTtcblxuICAgIGl0KCd0aHJvd3Mgd2hlbiBwYXNzd29yZCBpbnZhbGlkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgKGJjcnlwdC5jb21wYXJlIGFzIGFueSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKGZhbHNlKTtcbiAgICAgIHVzZXJzU2VydmljZS5maW5kQnlFbWFpbC5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGlkOiAndS0xJyxcbiAgICAgICAgZW1haWw6ICd4QHguY29tJyxcbiAgICAgICAgcGFzc3dvcmQ6ICdoYXNoJyxcbiAgICAgICAgcm9sZTogUm9sZS5BRE1JTixcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIHNlcnZpY2UubG9naW4oeyBlbWFpbDogJ3hAeC5jb20nLCBwYXNzd29yZDogJ3dyb25nJyB9IGFzIGFueSksXG4gICAgICApLnJlamVjdHMudG9CZUluc3RhbmNlT2YoVW5hdXRob3JpemVkRXhjZXB0aW9uKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJ2ZXJzaW9uIjozfQ==